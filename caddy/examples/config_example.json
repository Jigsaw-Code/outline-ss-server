{
    "admin": {
        "disabled": true
    },
    "logging": {
      "logs": {
        "default": {"level":"DEBUG", "encoder": {"format":"console"}}
      }
    },
    "apps": {
        "http": {
            "servers": {
                "metrics": {
                    "listen": [":9091"],
                    "routes": [
                        {
                            "match": [{"path": ["/metrics"]}],
                            "handle": [
                                {
                                    "disable_openmetrics": true,
                                    "handler": "metrics"
                                }
                            ]
                        }
                    ]
                },
                "ws1": {
                    "listen": [":8000"],
                    "routes": [
                        {
                            "match": [{"path": ["/tcp"]}],
                            "handle": [
                                {
                                    "handler": "ws2outline",
                                    "type": "stream",
                                    "connection_handler": "ss1"
                                }
                            ]
                        },
                        {
                            "match": [{"path": ["/udp"]}],
                            "handle": [
                                {
                                    "handler": "ws2outline",
                                    "type": "packet",
                                    "connection_handler": "ss1"
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "layer4": {
            "servers": {
                "ss1": {
                    "listen": [
                        "tcp/[::]:9000",
                        "udp/[::]:9000"
                    ],
                    "routes": [
                        {
                            "handle": [
                                {
                                    "handler": "outline",
                                    "connection_handler": "ss1"
                                }
                            ]
                        }
                    ]
                },
                "ss2_no_replaycache": {
                    "listen": [
                        "tcp/[::]:9001",
                        "udp/[::]:9001"
                    ],
                    "routes": [
                        {
                            "handle": [
                                {
                                    "handler": "outline",
                                    "connection_handler": "ss2"
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "outline": {
            "shadowsocks": {
                "replay_history": 10000
            },
            "connection_handlers": [
                {
                    "name": "ss1",
                    "handle": {
                        "handler": "shadowsocks",
                        "keys": [
                            {
                                "id": "user-0",
                                "cipher": "chacha20-ietf-poly1305",
                                "secret": "Secret0"
                            },
                            {
                                "id": "user-1",
                                "cipher": "chacha20-ietf-poly1305",
                                "secret": "Secret1"
                            }
                        ]
                    }
                },
                {
                    "name": "ss2",
                    "handle": {
                        "handler": "shadowsocks",
                        "keys": [
                            {
                                "id": "user-2",
                                "cipher": "chacha20-ietf-poly1305",
                                "secret": "Secret2"
                            }
                        ]
                    }
                }
            ]
        }
    }
}